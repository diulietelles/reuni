<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Reuni</title>
    <script src="sz"></script>
    <style>
        /* Fundo da página com imagem */
        body {
            background-image: url('Sala 1 (3).png'); /* Coloque aqui o link ou caminho da imagem */
            background-size: cover; /* Faz a imagem cobrir toda a tela */
            background-position: center; /* Centraliza a imagem */
            background-repeat: no-repeat; /* Evita a repetição da imagem */
            height: 100vh; /* Garante que o body ocupe toda a altura da viewport */
            margin: 0;
            font-family: Arial, sans-serif;
            position: relative; /* Para o posicionamento absoluto dos botões e contêineres */
        }

        /* Estilo do contêiner do chat (inicialmente oculto) */
        .chat-container, .video-container {
            display: none; /* O contêiner começa oculto */
            width: 300px;
            height: 400px;
            border: 1px solid #ccc;
            background-color: white; /* Fundo branco */
            position: absolute;
            z-index: 1000;
        }

        /* Posicionamento do chat principal */
        #chatContainer {
            right: 20px;
            bottom: 20px;
        }

        /* Posicionamento do novo chat */
        #newChatContainer {
            right: 20px;
            bottom: 20px;
        }

        /* Posicionamento da videochamada */
        #videoCallContainer {
            top: 50px;
            left: 50%;
            transform: translateX(-50%);
        }
    </style>
</head>
<body>
    
    <!-- Imagem com o mapa -->
    <img src="Sala 1 (3).png" usemap="#image-map" style="position: relative;">

    <map name="image-map">
        <!-- Botão de chat existente -->
        <area target="" alt="Abrir Chat" title="Abrir Chat" href="javascript:void(0);" coords="400,305,435,339" shape="rect" onclick="toggleChat();">
        
        <!-- Botão de videochamada -->
        <area target="" alt="Iniciar Videochamada" title="Iniciar Videochamada" href="javascript:void(0);" coords="387,524,422,558" shape="rect" onclick="startVideoCall();">
        
        <!-- Novo botão de chat na coordenada especificada -->
        <area target="" alt="Abrir Novo Chat" title="Abrir Chat" href="javascript:void(0);" coords="461,301,499,338" shape="rect" onclick="toggleNewChat();">
    </map>

    <!-- Contêiner do chat principal -->
    <div id="chatContainer" class="chat-container">
        <iframe src="https://chat-firebase-3dce6.web.app/" width="100%" height="100%" frameborder="0"></iframe>
    </div>

    <!-- Novo contêiner de chat na coordenada especificada -->
    <div id="newChatContainer" class="chat-container">
        <iframe src="https://chat-firebase-3dce6.web.app/" width="100%" height="100%" frameborder="0"></iframe>
    </div>

    <!-- Contêiner da videochamada -->
    <div id="videoCallContainer" class="video-container">
        <div id="jitsiContainer"></div> <!-- Contêiner para o Jitsi -->
    </div>

    <script src='https://meet.jit.si/external_api.js'></script>
    <script>
        // Função para abrir ou fechar o chat principal
        function toggleChat() {
            var chat = document.getElementById("chatContainer");
            chat.style.display = (chat.style.display === "none" || chat.style.display === "") ? "block" : "none";
        }

        // Função para abrir ou fechar o novo chat
        function toggleNewChat() {
            var newChat = document.getElementById("newChatContainer");
            newChat.style.display = (newChat.style.display === "none" || newChat.style.display === "") ? "block" : "none";
        }

        // Função para iniciar a videochamada
        function startVideoCall() {
            const videoCallContainer = document.getElementById('videoCallContainer');
            videoCallContainer.style.display = 'block'; // Mostra o contêiner da videochamada

            const domain = 'meet.jit.si';
            const options = {
                roomName: 'ReuniVideoCall', // Nome da sala de videochamada
                width: '100%',
                height: '100%',
                parentNode: document.querySelector('#jitsiContainer'),
                userInfo: {
                    displayName: 'Usuário' // Nome do usuário na videochamada
                }
            };
            const api = new JitsiMeetExternalAPI(domain, options);
        }
    </script>
</body>
</html>
